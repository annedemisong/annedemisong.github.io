"use strict";var grid=document.querySelector(".photo-layout");imagesLoaded(grid,function(){new Masonry(grid,{itemSelector:".photo"})});var initPhotoSwipeFromDOM=function(e){for(var t=function(e){for(var t,r,n,i,o=e.childNodes,a=o.length,l=[],d=0;a>d;d++)t=o[d],1===t.nodeType&&(r=t.children[0],n=r.getAttribute("data-size").split("x"),i={src:r.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(i.title=t.children[1].innerHTML),r.children.length>0&&(i.msrc=r.children[0].getAttribute("src")),i.el=t,l.push(i));return l},r=function(e,t){for(var r,n=!0;n;){var i=e,o=t;if(n=!1,!(r=i))return r;if(o(i))return i;e=i.parentNode,t=o,n=!0}},n=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=r(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(n){for(var i,a=n.parentNode,l=n.parentNode.childNodes,d=l.length,u=0,s=0;d>s;s++)if(1===l[s].nodeType){if(l[s]===n){i=u;break}u++}return i>=0&&o(i,a),!1}},i=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var r=e.split("&"),n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t},o=function(e,r,n,i){var o,a,l,d=document.querySelectorAll(".pswp")[0];if(l=t(r),a={galleryUID:r.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=l[e].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+r,w:n.width}}},i)if(a.galleryPIDs){for(var u=0;u<l.length;u++)if(l[u].pid==e){a.index=u;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);isNaN(a.index)||(n&&(a.showAnimationDuration=0),o=new PhotoSwipe(d,PhotoSwipeUI_Default,l,a),o.init())},a=document.querySelectorAll(e),l=0,d=a.length;d>l;l++)a[l].setAttribute("data-pswp-uid",l+1),a[l].onclick=n;var u=i();u.pid&&u.gid&&o(u.pid,a[u.gid-1],!0,!0)};initPhotoSwipeFromDOM(".my-gallery");